(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))L(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const M of c.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&L(M)}).observe(document,{childList:!0,subtree:!0});function y(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function L(n){if(n.ep)return;n.ep=!0;const c=y(n);fetch(n.href,c)}})();let h=0,l=100,o=50,m=0,u,b,s=["Палка"];const v=document.querySelector("#button1"),g=document.querySelector("#button2"),H=document.querySelector("#button3"),e=document.querySelector("#text"),O=document.querySelector("#xpText"),w=document.querySelector("#healthText"),p=document.querySelector("#goldText"),N=document.querySelector("#monsterStats"),B=document.querySelector("#monsterName"),W=document.querySelector("#monsterHealth"),q=document.querySelector("#history"),S=[{name:"Палка",power:5},{name:"Кинжал",power:30},{name:"Дубина",power:50},{name:"Меч",power:100}],T=[{name:"Слизь",level:2,health:15},{name:"Клыкастый монстр",level:8,health:60},{name:"Дракон",level:20,health:300}],a=[{name:"Городская площадь","button text":["Посетить лавку","Отправиться в пещеру","Схватка с Драконом"],"button functions":[P,E,F],text:'Вы на городской площади. Вы видите вывеску "Лавка".'},{name:"Лавка","button text":["Купить 10 здоровья(10 золотых)","Купить оружие(30 золотых)","Вернуться на площадь"],"button functions":[C,D,f],text:"Вы находитесь в лавке."},{name:"Пещера","button text":["Сразиться со слизью","Сразиться с клыкастым монстром","Вернуться на городскую площадь"],"button functions":[I,K,f],text:"Вы вошли в пещеру. Вы видите монстров."},{name:"Битва","button text":["Атака","Увернуться","Сбежать"],"button functions":[V,J,f],text:"Вы сражаетесь с монстром.",color:"yellow"},{name:"Смерть монстра","button text":["Вернуться на городскую площадь","Вернуться на городскую площадь","Пасхалка"],"button functions":[f,f,U],text:'Монстр кричит "Ааххрг!" и умирает. Вы Получили опыт и немного золота.',color:"lime"},{name:"Проигрыш","button text":["ПОВТОР?","ПОВТОР?","ПОВТОР?"],"button functions":[d,d,d],text:"Вы умерли. &#x2620;",color:"red"},{name:"Победа","button text":["ПОВТОР?","ПОВТОР?","ПОВТОР?"],"button functions":[d,d,d],text:"Вы одолели Дракона! ВЫ ПОБЕДИЛИ! &#x1F389;",color:"lime"},{name:"Пасхалка","button text":["2","8","Вернуться на городскую площадь."],"button functions":[X,Y,f],text:"Вы нашли секретную игру. Выберите номер выше. Десять чисел определяться случайно. Если среди них будет Ваше число, Вы выиграли!",color:"magenta"}];v.onclick=P;g.onclick=E;H.onclick=F;function r(t,i){q.innerHTML+=`<span class='game-message' style='color:${i}'>${t}</span>`,q.scrollTop=q.scrollHeight}function x(t){N.style.display="none",v.innerText=t["button text"][0],g.innerText=t["button text"][1],H.innerText=t["button text"][2],v.onclick=t["button functions"][0],g.onclick=t["button functions"][1],H.onclick=t["button functions"][2],e.innerHTML=t.text,r(t.text,t.color)}function f(){x(a[0])}function P(){x(a[1])}function E(){x(a[2])}function C(){o>=10?(o-=10,l+=10,p.innerText=o,w.innerText=l):(e.innerText="У Вас нет достаточно золота чтобы купить здоровье",r(e.innerText,"red"))}function D(){if(m<S.length-1)if(o>=30){o-=30,m++,p.innerText=o;let t=S[m].name;e.innerText="Теперь у Вас "+t+".",s.push(t),e.innerText+=" В Вашем инвентаре есть: "+s,r(e.innerText,"lime")}else e.innerText="У Вас нет достаточно золота чтобы купить оружие.",r(e.innerText,"red");else e.innerText="У Вас уже есть самое мощное оружие!",r(e.innerText,"yellow"),g.innerText="Продать оружие за 15 золотых",g.onclick=G}function G(){if(s.length>1){o+=15,p.innerText=o;let t=s.shift();e.innerText="Вы продали "+t+".",e.innerText+=" В Вашем инвентаре есть: "+s,r(e.innerText)}else e.innerText="Не продавайте Ваше единственное оружие!",r(e.innerText,"red")}function I(){u=0,k()}function K(){u=1,k()}function F(){u=2,k()}function k(){x(a[3]),b=T[u].health,N.style.display="block",B.innerText=T[u].name,W.innerText=b}function V(){e.innerText=""+T[u].name+" Атакует.",e.innerText+=" Вы атаковали монстра используя "+S[m].name+".",l-=j(T[u].level),r(e.innerText,"yellow"),z()?b-=S[m].power+Math.floor(Math.random()*h)+1:(e.innerText+=" Вы промахнулись.",r(e.innerText,"red")),w.innerText=l,W.innerText=b,l<=0?A():b<=0&&(u===2?R():Q()),Math.random()<=.1&&s.length!==1&&(e.innerText+=" Ваш "+s.pop()+" сломался.",r(e.innerText,"red"),m--)}function j(t){const i=t*5-Math.floor(Math.random()*h);return i>0?i:0}function z(){return Math.random()>.2||l<20}function J(){e.innerText="Вы увернулись от атаки: "+T[u].name,r(e.innerText,"lime")}function Q(){o+=Math.floor(T[u].level*6.7),h+=T[u].level,p.innerText=o,O.innerText=h,x(a[4])}function A(){x(a[5])}function R(){x(a[6])}function d(){h=0,l=100,o=50,m=0,s=["Палка"],p.innerText=o,w.innerText=l,O.innerText=h,f()}function U(){x(a[7])}function X(){$(2)}function Y(){$(8)}function $(t){const i=[];for(;i.length<10;)i.push(Math.floor(Math.random()*11));e.innerText="Вы выбрали "+t+`. Вот случайные числа:
`;for(let y=0;y<10;y++)e.innerText+=i[y]+`
`;r(e.innerText),i.includes(t)?(e.innerText+="Верно! Вот Ваши 20 золотых!",r(e.innerText,"lime"),o+=20,p.innerText=o):(e.innerText+="Не верно! Вы потеряли 10 здоровья",r(e.innerText,"red"),l-=10,w.innerText=l,l<=0&&A())}
//# sourceMappingURL=commonHelpers.js.map
